{"createdAt":"2025-06-10T07:42:58.039Z","updatedAt":"2025-06-13T04:34:20.573Z","id":"dFZu0wb4RAdLgopy","name":"ay 1","active":false,"isArchived":false,"nodes":[{"parameters":{},"name":"On clicking 'execute'","type":"n8n-nodes-base.manualTrigger","position":[-220,260],"typeVersion":1,"id":"14fee178-8749-4e54-b432-c26ebb78e24e"},{"parameters":{"url":"https://www.kicox.or.kr/user/bbs/BD_selectBbsList.do?q_bbsCode=1016&currentPage={{$json.page}}","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[120,-40],"id":"8da85986-804a-447a-b558-069a35daa996","name":"HTTP Request6"},{"parameters":{"jsCode":"const output = [];\nfor (let i = 1; i <= 1; i++) {\n  output.push({ json: { page: i } });\n}\nreturn output;\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-60,-40],"id":"68bbc8fe-07df-4cf0-9963-e2838a531d3d","name":"Generate Pages1"},{"parameters":{"jsCode":"const html = $json.body || $json.data || '';\n\nconst regex = /href=\"(\\/user\\/bbs\\/BD_selectBbs\\.do[^\"]+)[^>]*?\">\\s*([\\s\\S]*?)<\\/a>/g;\nconst matches = html.matchAll(regex);\n\nconst results = [];\nfor (const match of matches) {\n  const rawUrl = match[1];\n  const rawTitle = match[2];\n\n  // HTML 엔티티 디코딩 (예: &amp; -> &)\n  const decodedUrl = rawUrl.replace(/&amp;/g, '&');\n\n  // 태그 제거 + 공백 정리\n  const cleanTitle = rawTitle.replace(/<[^>]+>/g, '').replace(/\\s+/g, ' ').trim();\n\n  results.push({\n    url: \"https://www.kicox.or.kr\" + decodedUrl,\n    title: cleanTitle,\n  });\n}\n\nreturn results.map(r => ({ json: r }));\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[300,-40],"id":"eca17221-92d8-4830-9e73-0c99cc413f50","name":"Parse Post Links1","alwaysOutputData":false},{"parameters":{"url":"={{$json.url}}","options":{"response":{"response":{"responseFormat":"text"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[480,-40],"id":"00fc9516-b037-4d11-bb7c-86fd1b93809a","name":"HTTP Request(Post Detail)1"},{"parameters":{"jsCode":"const results = [];\nconst fileRe = /href=\"(\\/component\\/file\\/ND_fileDownload\\.do\\?[^\"]+)\"[^>]*>([^<]+)<\\/a>/gi;\n\nfor (const item of items) {\n  const html = item.json.body || item.json.data || '';\n  for (const m of html.matchAll(fileRe)) {\n    const dl = 'https://www.kicox.or.kr' + m[1].replace(/&amp;/g,'&');\n    results.push({json:{\n      sourceUrl: item.json.url,\n      fileName : m[2].trim(),\n      downloadUrl: decodeURIComponent(dl)\n    }});\n  }\n}\nreturn results;\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[680,-40],"id":"9c556ebb-b283-4fff-aa53-a39c647ea91c","name":"get downladUrl1"},{"parameters":{"url":"={{ $json.downloadUrl }}","options":{"response":{"response":{"responseFormat":"file"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1180,-40],"id":"e8472f43-d136-40ad-a449-82bd9a68e315","name":"HTTP Request7","executeOnce":false},{"parameters":{"jsCode":"// return items.map(item => {\n//   console.log(item.json.downloadUrl);  // 로그 출력 (선택사항)\n//   return {\n//     json: item.json\n//   };\n// });\n\n\n// console.log($json.downloadUrl);\n//const secondItem = items[1]; // 두 번째 (index 1)\n\nconst secondItem = items[3]; // 두 번째 (index 1)\n\nreturn [{\n  json: secondItem.json\n}];\n\n\n// return items.map(item => {\n//   return {\n//     json: item.json\n//   };\n// });\n\n\n// return items\n//   .filter(item => !!item.json.downloadUrl) // 다운로드 링크가 있는 것만\n//   .map(item => {\n//     return {\n//       json: item.json\n//     };\n//   });\n// \n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1020,-40],"id":"53be959f-054f-4d51-a58a-7f413e5bedf2","name":"Code9"},{"parameters":{"jsCode":"return items.map(item => {\n  const raw = item.json.downloadUrl || '';\n  const cleaned = raw\n    .toString()\n    .replace(/[\\n\\r\\t\\s]+/g, '')         // 공백 및 줄바꿈 제거\n    .replace(/&amp;/g, '&')              // HTML 인코딩 된 & 해제\n    .trim();\n  return {\n    json: {\n      ...item.json,\n      downloadUrl: decodeURI(cleaned)\n    }\n  };\n});\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[860,-40],"id":"fdee142a-5417-4f30-9d4b-0c06da2b6ac1","name":"Code10"},{"parameters":{"method":"POST","url":"https://api.mistral.ai/v1/files","sendHeaders":true,"headerParameters":{"parameters":[{"name":"content-type","value":"application/octet-stream"},{"name":"Authorization","value":"Bearer  aJUugk77GjvB8L7smr5n11JlKLab1xE5"}]},"sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"purpose","value":"ocr"},{"parameterType":"formBinaryData","name":"=file","inputDataFieldName":"data"}]},"options":{"allowUnauthorizedCerts":false}},"id":"1f3e1816-f658-4420-9695-375611907e61","name":"Upload a file1","type":"n8n-nodes-base.httpRequest","position":[1320,-40],"typeVersion":4.2},{"parameters":{"url":"=https://api.mistral.ai/v1/files/{{$json[\"id\"]}}/url","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"Bearer  aJUugk77GjvB8L7smr5n11JlKLab1xE5"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1480,-40],"id":"a84af3f6-fa43-4dcb-a72b-0be419ec473a","name":"HTTP Request10"},{"parameters":{"method":"POST","url":"https://api.mistral.ai/v1/ocr","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"Bearer  aJUugk77GjvB8L7smr5n11JlKLab1xE5"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"model\": \"mistral-ocr-latest\",\n  \"document\": {\n    \"type\": \"document_url\",\n    \"document_url\": \"{{ $json.url }}\"\n  },\n  \"include_image_base64\": true\n}","options":{"allowUnauthorizedCerts":false,"response":{"response":{"responseFormat":"json"}}}},"id":"bd74cc64-f93b-4717-b6d5-cc653de1b8c2","name":"do ocr1","type":"n8n-nodes-base.httpRequest","position":[1620,-40],"typeVersion":4.2},{"parameters":{"operation":"classify","options":{}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[1840,-40],"id":"c5595551-e5fa-4f24-a167-c46d0749b861","name":"OpenAI"},{"parameters":{"url":"https://www.kicox.or.kr/user/bbs/BD_selectBbsList.do?q_bbsCode=1016&currentPage=1","responseFormat":"string","options":{}},"id":"ce4661a0-857e-4c43-b7b9-da86685b4200","name":"Get List HTML2","type":"n8n-nodes-base.httpRequest","typeVersion":1,"position":[120,260]},{"parameters":{"extractionValues":{"values":[{"key":"href","cssSelector":"td.subject > a","returnValue":"attribute","attribute":"href","returnArray":true}]},"options":{"trimValues":true}},"id":"282c11c0-515b-43e9-8a3a-c9ff5c1603bb","name":"Extract Links2","type":"n8n-nodes-base.htmlExtract","typeVersion":1,"position":[300,260]},{"parameters":{"options":{}},"id":"b855173f-00c4-43a8-909e-3aebdc959a85","name":"SplitInBatches3","type":"n8n-nodes-base.splitInBatches","typeVersion":1,"position":[640,260]},{"parameters":{"values":{"string":[{"name":"fullUrl","value":"={{ 'https://www.kicox.or.kr' + $json.href }}"}]},"options":{}},"id":"7cf033e2-0bdd-4a65-aa6b-ba8fe38e85d3","name":"Set Full URL2","type":"n8n-nodes-base.set","typeVersion":1,"position":[840,260]},{"parameters":{"url":"={{ $json.fullUrl }}","responseFormat":"string","options":{}},"id":"ead8bb31-5b10-4dd8-bd2e-f4e6c7e256ab","name":"Get Detail HTML2","type":"n8n-nodes-base.httpRequest","typeVersion":1,"position":[1040,260]},{"parameters":{"extractionValues":{"values":[{"key":"pblanc_nm","cssSelector":"div.detail-area div.title"},{"key":"reqst_begin_end_de","cssSelector":"div.util span.date"},{"key":"bsns_sumry_cn","cssSelector":"div.txt","returnValue":"html"},{"key":"flpth_nm","cssSelector":"span.file-download-list a\t","returnValue":"attribute","attribute":"href","returnArray":true}]},"options":{"trimValues":true}},"id":"c92981af-82e8-4c8d-9070-2a95d0ff1083","name":"Extract Content2","type":"n8n-nodes-base.htmlExtract","typeVersion":1,"position":[1200,260]},{"parameters":{"functionCode":"return [{ json: { title: $json.title, date: $json.date, content: $json.content } }];"},"id":"94966b35-ef5f-4f98-9aea-b7d5468babef","name":"Format JSON2","type":"n8n-nodes-base.function","typeVersion":1,"position":[3120,460]},{"parameters":{"jsCode":"return $json.href.map(link => {\n  return {\n    json: {\n      href: link\n    }\n  };\n});\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[460,260],"id":"24a7b417-da92-4208-913e-126450e881e7","name":"split"},{"parameters":{"operation":"upsert","table":{"__rl":true,"value":"biz_info","mode":"list","cachedResultName":"biz_info"},"columnToMatchOn":"pblanc_nm","options":{}},"type":"n8n-nodes-base.mySql","typeVersion":2.4,"position":[1780,280],"id":"a9dda9b2-865b-4811-9253-27afd06abfe1","name":"MySQL"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"return {\n  json: {\n    ...$json,\n    flpth_nm: Array.isArray($json.flpth_nm)\n      ? $json.flpth_nm.map(path => \"https://www.kicox.or.kr\" + path).join(\"@\")\n      : \"https://www.kicox.or.kr\" + $json.flpth_nm,\n    print_flpth_nm: Array.isArray($json.flpth_nm)\n      ? \"https://www.kicox.or.kr\" + $json.flpth_nm[0]\n          : \"https://www.kicox.or.kr\" + $json.flpth_nm,\n    exc_instt_nm: \"test\",\n    del_yn: \"N\",\n    creat_p_nttm: new Date().toISOString().slice(0, 19).replace(\"T\", \" \"),\n    created_ts: new Date().toISOString().slice(0, 19).replace(\"T\", \" \"),\n  }\n};\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1580,280],"id":"87dff3b8-f80a-4268-8063-2d5df41c9411","name":"Code14"},{"parameters":{"batchSize":10,"options":{}},"id":"cbb882a3-5d48-4427-8890-26514f016f8e","name":"SplitInBatches4","type":"n8n-nodes-base.splitInBatches","position":[3120,620],"typeVersion":3},{"parameters":{"method":"POST","url":"https://api.mistral.ai/v1/files","sendHeaders":true,"headerParameters":{"parameters":[{"name":"content-type","value":"application/octet-stream"},{"name":"Authorization","value":"Bearer  aJUugk77GjvB8L7smr5n11JlKLab1xE5"}]},"sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"name":"purpose","value":"ocr"},{"parameterType":"formBinaryData","name":"=file","inputDataFieldName":"data"}]},"options":{"allowUnauthorizedCerts":false}},"id":"35674d00-1445-4503-a52f-9e70e165ac6d","name":"Upload a file2","type":"n8n-nodes-base.httpRequest","position":[920,640],"typeVersion":4.2},{"parameters":{"url":"=https://api.mistral.ai/v1/files/{{$json[\"id\"]}}/url","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"Bearer  aJUugk77GjvB8L7smr5n11JlKLab1xE5"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1060,640],"id":"5c894935-d5a2-4c89-9784-16df3811ee9d","name":"HTTP Request11"},{"parameters":{"method":"POST","url":"https://api.mistral.ai/v1/ocr","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Authorization","value":"Bearer  aJUugk77GjvB8L7smr5n11JlKLab1xE5"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"model\": \"mistral-ocr-latest\",\n  \"document\": {\n    \"type\": \"document_url\",\n    \"document_url\": \"{{ $json.url }}\"\n  },\n  \"include_image_base64\": true\n}","options":{"allowUnauthorizedCerts":false,"response":{"response":{"responseFormat":"json"}}}},"id":"cf0ca8e3-f6fb-42d4-827c-93642eef898b","name":"do ocr2","type":"n8n-nodes-base.httpRequest","position":[1220,640],"typeVersion":4.2},{"parameters":{"url":"={{ $json.downloadUrl }}","options":{"response":{"response":{"responseFormat":"file"}},"timeout":60000}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[740,640],"id":"a0310fca-1ceb-4e7d-8b9d-6797e3a2db9c","name":"download files","executeOnce":false},{"parameters":{"mode":"runOnceForEachItem","jsCode":"// // Run Once for Each Item 모드에 맞춘 Code\nconst urls = Array.isArray($json.flpth_nm)\n  ? $json.flpth_nm\n  : String($json.flpth_nm).split('@');\n\n// 지금 처리 중인 파일 인덱스가 있는 경우만 하나 추출\nconst index = $json.fileIndex || 0;\nconst url = urls[index];\n\n// 없으면 아무것도 하지 않음\nif (!url) {\n  return {};\n}\n\n// 반환은 단일 객체만\nreturn {\n  json: {\n    ...$json,\n    downloadUrl: \"https://www.kicox.or.kr\" + url.trim(),\n    fileIndex: index\n  }\n};\n\n\n//run once for all items에 맞춘 코드 ->에러남\n// const filePaths = Array.isArray($json.flpth_nm)\n//   ? $json.flpth_nm\n//   : String($json.flpth_nm).split('@');\n\n// return filePaths.map((path, idx) => ({\n//   json: {\n//     ...$json,\n//     downloadUrl: \"https://www.kicox.or.kr\" + path.trim(),\n//     fileIndex: idx,\n//     originalFilePath: path\n//   }\n// }));\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[120,600],"id":"adc55f37-bdd8-42c3-b901-791bc0703caa","name":"Code15"},{"parameters":{"jsCode":"const ocrText = $json.text || $json.ocr_result || JSON.stringify($json, null, 2);\n\nreturn {\n  json: {\n    chatInput: `다음은 공고의 첨부파일에서 OCR로 추출한 텍스트입니다. 이 텍스트를 읽고 다음 정보를 요약해 주세요.\n  반환형식을 꼭 지켜!\n\n다음은 정부지원사업 공고의 OCR 텍스트입니다.  \n이 텍스트를 기반으로 아래 JSON 구조에 맞게 항목을 채워 주세요.\n\n각 key는 반드시 그대로 유지하고, 값이 없을 경우 null 또는 기본값을 사용해 주세요.  \n(주석은 설명 용도로만 표시한 것입니다. 응답에서는 제거하고 순수 JSON으로 반환해주세요.)\n\njson\n{\n  \"biz_info_id\": null,                            // (자동 생성. 입력하지 않아도 됨)\n  \"pblanc_nm\": null,                              // 공고 제목\n  \"pblanc_url\": null,                             // 공고 상세 URL\n  \"pblanc_id\": null,                              // 공고 ID\n  \"jrsd_instt_nm\": null,                          // 주관/지원 기관명 (예: 전북특별자치도)\n  \"exc_instt_nm\": null,                           // 수행기관 (예: 직접수행, 외부수행 등)\n  \"bsns_sumry_cn\": null,                          // 공고 요약 (HTML 혹은 일반 텍스트)\n  \"print_flpth_nm\": null,                         // 메인 PDF 링크\n  \"print_file_nm\": null,                          // 메인 PDF 파일명\n  \"flpth_nm\": null,                               // 첨부파일 경로들 (@ 구분)\n  \"file_nm\": null,                                // 첨부파일명 (zip 등)\n\n  \"pldir_sport_realm_lclas_code_nm\": null,        // 대분류 분야명 (예: 기술, 경영 등)\n  \"rcept_engn_hmpg_url\": null,                    // 신청처 홈페이지\n  \"trget_nm\": null,                               // 대상기업 (예: 중소기업, 중견기업 등)\n\n  \"reqst_begin_end_de\": null,                     // 공고 전체 기간 (예: 20240801 ~ 20240930)\n  \"reqst_begin_dt\": null,                         // 시작일 (예: 2024-08-01)\n  \"reqst_end_dt\": null,                           // 마감일 (예: 2024-09-30)\n  \"reqst_mth_papers_cn\": null,                    // 신청 방법 (예: 온라인 접수 등)\n  \"pldir_sport_realm_mlsfc_code_nm\": null,        // 중분류 분야명\n  \"refrnc_nm\": null,                              // 문의처 (예: 전화번호 포함 문장)\n  \"inqire_co\": 0,                                 // 문의 수 (없으면 0)\n\n  \"creat_p_nttm\": null,                           // 공고 등록 일시\n  \"created_ts\": null,                             // 시스템에 등록된 시간\n  \"hash_tags\": null,                              // 키워드 (쉼표 구분)\n  \"del_yn\": \"N\",                                   // 삭제 여부 (기본값 N)\n  \"hide_yn\": \"Y\",                                  // 숨김 여부 (기본값 Y)\n  \"views\": 0,                                     // 조회수 (기본값 0)\n\n  \"is_classified\": \"N\",                           // 분류 여부 (N: 미분류)\n  \"source\": \"기업마당\",                            // 출처 (예: 기업마당)\n  \"main_category\": null,\n  \"sub_category\": null,\n  \"classified_date\": null,\n  \"classified_by\": null,\n\n  \"subsidy_amount\": null,                         // 정부 지원금 (예: \"140억 원\")\n  \"self_contribution_rate\": null,                 // 자부담 비율 (예: \"40% 이상\")\n  \"support_target\": null,                         // 지원 대상 설명\n  \"bonus_points_factors\": null,                   // 가점 요소\n  \"total_budget\": null,                           // 총사업비 (예: \"200억 원\")\n  \"applicant_count\": 0,                           // 모집/선정 수 (없으면 0)\n  \"subsidy_amount_type\": null,                    // 지원금 단위 (예: 연차별, 총액)\n  \"total_budget_type\": null,                      // 총사업비 단위\n  \"equipment_detail_file_path\": null,             // 장비 세부파일 경로\n  \"equipment_detail_file_name\": null              // 장비 세부파일 이름\n}\n\n\n[텍스트 시작]\n${ocrText}\n[텍스트 끝]`\n  }\n};\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1440,640],"id":"9fba95db-248c-49c0-866f-5c80a2453055","name":"Code16"},{"parameters":{"modelName":"models/gemini-1.5-flash","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[1480,1060],"id":"57684a3d-a116-4603-bb13-ea03427bf287","name":"Google Gemini Chat Model1"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[3000,240],"id":"c4292453-34f8-4428-b8ca-672c1127f819","name":"AI Agent1"},{"parameters":{"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[1480,840],"id":"5336f1f2-f046-498c-85fe-600f1a846992","name":"Basic LLM Chain"},{"parameters":{"jsCode":"// Gemini 또는 LLM 응답의 텍스트 내용만 추출\nconst geminiText = $json.text; // or $item(0).json.text\n\n// Markdown 코드 블록에서 JSON 추출: ```json\\n{...}\\n```\nconst jsonMatch = geminiText.match(/```json\\s*([\\s\\S]*?)\\s*```/);\n\nif (!jsonMatch) {\n  throw new Error(\"JSON block not found in Gemini output.\");\n}\n\nlet parsed;\ntry {\n  parsed = JSON.parse(jsonMatch[1]);\n} catch (err) {\n  throw new Error(\"Failed to parse JSON: \" + err.message);\n}\n\n// 후처리 + 경로 가공\nreturn {\n  json: {\n    ...$json,\n    ...parsed,\n\n    flpth_nm: Array.isArray(parsed.flpth_nm)\n      ? parsed.flpth_nm.map(path => \"https://www.kicox.or.kr\" + path).join(\"@\")\n      : parsed.flpth_nm ? \"https://www.kicox.or.kr\" + parsed.flpth_nm : null,\n\n    print_flpth_nm: Array.isArray(parsed.flpth_nm)\n      ? \"https://www.kicox.or.kr\" + parsed.flpth_nm[0]\n      : parsed.flpth_nm ? \"https://www.kicox.or.kr\" + parsed.flpth_nm : null,\n\n    exc_instt_nm: parsed.exc_instt_nm || \"test\",\n    del_yn: \"N\",\n    creat_p_nttm: new Date().toISOString().slice(0, 19).replace(\"T\", \" \"),\n    created_ts: new Date().toISOString().slice(0, 19).replace(\"T\", \" \"),\n  }\n};\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1900,860],"id":"55220c23-eb98-4456-b537-4df6808f6d30","name":"Code17"},{"parameters":{"operation":"upsert","table":{"__rl":true,"value":"biz_info","mode":"list","cachedResultName":"biz_info"},"columnToMatchOn":"pblanc_nm","options":{}},"type":"n8n-nodes-base.mySql","typeVersion":2.4,"position":[2100,860],"id":"9d205597-c759-4b08-9676-881a6fa73272","name":"MySQL1"},{"parameters":{"mode":"runOnceForEachItem","jsCode":"// const filePaths = Array.isArray($json.flpth_nm)\n//   ? $json.flpth_nm\n//   : String($json.flpth_nm).split('@');\n\n// return filePaths.map((path, idx) => {\n//   return {\n//     json: {\n//       ...$json,\n//       downloadUrl: \"https://www.kicox.or.kr\" + path.trim(),\n//       fileIndex: idx,\n//       originalFilePath: path\n//     }\n//   };\n// });\n//\n\n// Run Once for Each Item 모드에 맞춘 Code\nconst urls = Array.isArray($json.flpth_nm)\n  ? $json.flpth_nm\n  : String($json.flpth_nm).split('@');\n\n// 지금 처리 중인 파일 인덱스가 있는 경우만 하나 추출\nconst index = $json.fileIndex || 0;\nconst url = urls[index];\n\n// 없으면 아무것도 하지 않음\nif (!url) {\n  return {};\n}\n\n// 반환은 단일 객체만\nreturn {\n  json: {\n    ...$json,\n    downloadUrl: \"https://www.kicox.or.kr\" + url.trim(),\n    fileIndex: index\n  }\n};"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[420,640],"id":"2124bfe1-c063-4bc1-9b0c-2e717f9fc015","name":"flpth_nm 분리 후 downloadUrl 생성"},{"parameters":{"options":{}},"id":"ed743898-0099-4a95-94a4-742eed643fa2","name":"SplitInBatches5","type":"n8n-nodes-base.splitInBatches","typeVersion":1,"position":[580,640]}],"connections":{"On clicking 'execute'":{"main":[[{"node":"Get List HTML2","type":"main","index":0}]]},"HTTP Request6":{"main":[[{"node":"Parse Post Links1","type":"main","index":0}]]},"Generate Pages1":{"main":[[{"node":"HTTP Request6","type":"main","index":0}]]},"Parse Post Links1":{"main":[[{"node":"HTTP Request(Post Detail)1","type":"main","index":0}]]},"HTTP Request(Post Detail)1":{"main":[[{"node":"get downladUrl1","type":"main","index":0}]]},"get downladUrl1":{"main":[[{"node":"Code10","type":"main","index":0}]]},"HTTP Request7":{"main":[[{"node":"Upload a file1","type":"main","index":0}]]},"Code9":{"main":[[{"node":"HTTP Request7","type":"main","index":0}]]},"Code10":{"main":[[{"node":"Code9","type":"main","index":0}]]},"Upload a file1":{"main":[[{"node":"HTTP Request10","type":"main","index":0}]]},"HTTP Request10":{"main":[[{"node":"do ocr1","type":"main","index":0}]]},"do ocr1":{"main":[[{"node":"OpenAI","type":"main","index":0}]]},"Get List HTML2":{"main":[[{"node":"Extract Links2","type":"main","index":0}]]},"Extract Links2":{"main":[[{"node":"split","type":"main","index":0}]]},"SplitInBatches3":{"main":[[{"node":"Set Full URL2","type":"main","index":0}]]},"Set Full URL2":{"main":[[{"node":"Get Detail HTML2","type":"main","index":0}]]},"Get Detail HTML2":{"main":[[{"node":"Extract Content2","type":"main","index":0}]]},"Extract Content2":{"main":[[{"node":"flpth_nm 분리 후 downloadUrl 생성","type":"main","index":0}]]},"split":{"main":[[{"node":"SplitInBatches3","type":"main","index":0}]]},"Code14":{"main":[[{"node":"MySQL","type":"main","index":0}]]},"Upload a file2":{"main":[[{"node":"HTTP Request11","type":"main","index":0}]]},"HTTP Request11":{"main":[[{"node":"do ocr2","type":"main","index":0}]]},"do ocr2":{"main":[[{"node":"Code16","type":"main","index":0}]]},"download files":{"main":[[{"node":"Upload a file2","type":"main","index":0}]]},"Code16":{"main":[[{"node":"Basic LLM Chain","type":"main","index":0}]]},"Google Gemini Chat Model1":{"ai_languageModel":[[{"node":"Basic LLM Chain","type":"ai_languageModel","index":0}]]},"Basic LLM Chain":{"main":[[{"node":"Code17","type":"main","index":0}]]},"Code17":{"main":[[{"node":"MySQL1","type":"main","index":0}]]},"flpth_nm 분리 후 downloadUrl 생성":{"main":[[{"node":"SplitInBatches5","type":"main","index":0}]]},"SplitInBatches5":{"main":[[{"node":"download files","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"013e0d3b-466c-423f-86a3-a4d5b2579671","triggerCount":0,"shared":[{"createdAt":"2025-06-10T07:42:58.039Z","updatedAt":"2025-06-10T07:42:58.039Z","role":"workflow:owner","workflowId":"dFZu0wb4RAdLgopy","projectId":"FMA96HVWnRkNvN5Q"}],"tags":[]}