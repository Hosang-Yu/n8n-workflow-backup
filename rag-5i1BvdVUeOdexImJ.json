{"createdAt":"2025-06-19T04:56:34.029Z","updatedAt":"2025-06-20T02:31:13.021Z","id":"5i1BvdVUeOdexImJ","name":"RAG","active":false,"isArchived":false,"nodes":[{"parameters":{"url":"http://www.technopark.kr/?module=file&act=procFileDownload&file_srl=217230&sid=f8e6cd9208aeea032985ce7902cae8d8&module_srl=195","options":{"redirect":{"redirect":{"followRedirects":false}},"response":{"response":{"fullResponse":true,"neverError":true}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[140,0],"id":"524de9d1-e56b-4894-9a81-ced3557a45e8","name":"HTTP Request"},{"parameters":{"url":"={{ $('Edit Fields').item.json.base_url }}{{ $json.headers.location }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Accept","value":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7"},{"name":"Accept-Language","value":"ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7"},{"name":"Connection","value":"keep-alive"},{"name":"Referer","value":"http://www.technopark.kr/businessboard/217229"},{"name":"Upgrade-Insecure-Requests","value":"1"},{"name":"User-Agent","value":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"},{"name":"Cookie","value":"={{ $json.headers['set-cookie'][0] }}"}]},"options":{"redirect":{"redirect":{"followRedirects":false}},"response":{"response":{"fullResponse":true,"responseFormat":"file"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[300,0],"id":"71edfbad-630e-42dd-a0bc-35f79efc6f54","name":"HTTP Request1"},{"parameters":{"assignments":{"assignments":[{"id":"ebbded9d-fc86-42a6-b89d-184a93dddc14","name":"base_url","value":"http://www.technopark.kr","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-20,0],"id":"fe79dbfd-9fc1-4645-a667-6c291f82e926","name":"Edit Fields"},{"parameters":{"batching":{}},"type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.7,"position":[-420,-700],"id":"44aed84e-7fcd-4ef4-be3d-e5932b0207e5","name":"Basic LLM Chain","disabled":true},{"parameters":{"mode":"insert","tableName":"documents","embeddingBatchSize":1,"options":{"columnNames":{"values":{"contentColumnName":"content"}}}},"type":"@n8n/n8n-nodes-langchain.vectorStorePGVector","typeVersion":1.3,"position":[-80,-700],"id":"16f19761-feb0-44cf-b62f-5555fe331250","name":"Postgres PGVector Store","credentials":{"postgres":{"id":"vFhfJy5ONkFY6Aga","name":"Postgres account 2"}}},{"parameters":{"model":{"__rl":true,"value":"gpt-4o-mini","mode":"list","cachedResultName":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-380,-480],"id":"39ad3657-38db-4824-be16-06def13b65f8","name":"OpenAI Chat Model","credentials":{"openAiApi":{"id":"Kr1yjKQ7nKNTwLtg","name":"sh"}}},{"parameters":{"assignments":{"assignments":[{"id":"1d62ffec-d017-4013-b417-e35d8d50b553","name":"chatInput","value":"ÏãúÎÑàÏ†† Í∞úÎ∞úÎ∂ÄÎäî Í∞úÎ∞úÏñ∏Ïñ¥Î°ú ÏûêÎ∞îÎ•º ÏÇ¨Ïö©Ìï¥","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-600,-700],"id":"fe19f95c-3557-46c5-b2b4-e8879a992f9f","name":"Edit Fields1"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","typeVersion":1.1,"position":[400,-560],"id":"adcf948e-1c8a-4bf2-a1ba-5c566096b2cd","name":"Default Data Loader"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2,"position":[860,-880],"id":"156777c9-32c7-4a0f-a378-286e32d5ba76","name":"AI Agent"},{"parameters":{"model":{"__rl":true,"value":"gpt-4o-mini","mode":"list","cachedResultName":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[840,-680],"id":"7481a4fd-8beb-4acc-837f-647ef6cd6c02","name":"OpenAI Chat Model1","credentials":{"openAiApi":{"id":"SKDNgNmyz3uaizES","name":"OpenAi account"}}},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.toolVectorStore","typeVersion":1.1,"position":[1100,-640],"id":"423cfb9f-63ab-4566-b3b9-7a051c6e707e","name":"Answer questions with a vector store"},{"parameters":{"tableName":"rag_db","options":{}},"type":"@n8n/n8n-nodes-langchain.vectorStorePGVector","typeVersion":1.3,"position":[960,-480],"id":"cc485289-94b7-4575-b640-d846913073cb","name":"Postgres PGVector Store1","credentials":{"postgres":{"id":"vFhfJy5ONkFY6Aga","name":"Postgres account 2"}}},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[1380,-440],"id":"af71a94e-3124-4fa7-aa54-93e0df415316","name":"OpenAI Chat Model2","credentials":{"openAiApi":{"id":"SKDNgNmyz3uaizES","name":"OpenAi account"}}},{"parameters":{"formTitle":"Upload your data to test RAG","formFields":{"values":[{"fieldLabel":"Upload your file(s)","fieldType":"file","acceptFileTypes":".pdf, .csv","requiredField":true}]},"options":{}},"id":"37ff0cd3-52d7-47b4-9690-a52c476a47ab","name":"Upload your file here","type":"n8n-nodes-base.formTrigger","position":[-480,560],"webhookId":"82848bc4-5ea2-4e5a-8bb6-3c09b94a8c5d","typeVersion":2.2},{"parameters":{"options":{}},"id":"48c91e4e-0b89-45e8-9f20-f9c13f1305bc","name":"Embeddings OpenAI","type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","position":[160,1140],"typeVersion":1.2,"credentials":{"openAiApi":{"id":"Kr1yjKQ7nKNTwLtg","name":"sh"}}},{"parameters":{"content":"### Readme\nLoad your data into a vector database with the üìö **Load Data** flow, and then use your data as chat context with the üêï **Retriever** flow.\n\n**Quick start**\n1. Click on the `Execute Workflow` button to run the üìö **Load Data** flow.\n2. Click on `Open Chat` button to run the üêï **Retriever** flow. Then ask a question about content from your document(s)\n\n\nFor more info, check our [docs on RAG in n8n](https://docs.n8n.io/advanced-ai/rag-in-n8n/)","height":300,"width":440,"color":4},"id":"4fd582cd-c0f1-4c7f-bbb5-fb79cc9ff1a9","name":"Sticky Note","type":"n8n-nodes-base.stickyNote","position":[-1020,500],"typeVersion":1},{"parameters":{"content":"### üìö Load Data Flow","height":460,"width":700,"color":7},"id":"08c1a4d6-7274-48c7-8fca-1d5317485a6f","name":"Sticky Note1","type":"n8n-nodes-base.stickyNote","position":[-540,500],"typeVersion":1},{"parameters":{"mode":"insert","memoryKey":{"__rl":true,"mode":"list","value":"vector_store_key","cachedResultName":"vector_store_key"}},"id":"06427f66-5cb8-41e6-8000-f11236c23829","name":"Insert Data to Store","type":"@n8n/n8n-nodes-langchain.vectorStoreInMemory","position":[-300,560],"typeVersion":1.2},{"parameters":{"memoryKey":{"__rl":true,"mode":"list","value":"vector_store_key"}},"id":"03a63012-057d-4781-9246-0a8c5ec5941b","name":"Query Data Tool","type":"@n8n/n8n-nodes-langchain.vectorStoreInMemory","position":[600,900],"typeVersion":1.2},{"parameters":{"content":"### üêï 2. Retriever Flow","height":520,"width":820,"color":7},"id":"1fe41e77-a819-4d6c-a2df-fb859d4b11ad","name":"Sticky Note2","type":"n8n-nodes-base.stickyNote","position":[240,500],"typeVersion":1},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4.1","cachedResultName":"gpt-4.1"},"options":{}},"id":"f76397e9-0600-4b37-9db7-5c2c87b7b962","name":"Expensive model","type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","position":[440,760],"typeVersion":1.2,"credentials":{"openAiApi":{"id":"Kr1yjKQ7nKNTwLtg","name":"sh"}}},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4.1-mini"},"options":{}},"id":"d209588b-b52b-4931-8f46-d72c57b3143b","name":"Cheap Model","type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","position":[900,900],"typeVersion":1.2,"credentials":{"openAiApi":{"id":"Kr1yjKQ7nKNTwLtg","name":"sh"}}},{"parameters":{"dataType":"binary","options":{}},"id":"82c44ff1-0077-4bde-87bd-7a4fccbe625e","name":"Default Data Loader1","type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","position":[-40,720],"typeVersion":1.1},{"parameters":{"options":{}},"id":"e978e9c7-bfc0-4c4f-99b5-6d3ca49e79a4","name":"AI Agent1","type":"@n8n/n8n-nodes-langchain.agent","position":[580,540],"typeVersion":2},{"parameters":{"description":"The data contains custom knowledge"},"id":"cb9ac9aa-d0e8-43f7-8276-a598d3fbbf9c","name":"Answer questions with a vector store1","type":"@n8n/n8n-nodes-langchain.toolVectorStore","position":[740,760],"typeVersion":1.1},{"parameters":{"model":"text-embedding-ada-002","options":{}},"id":"39979c91-b697-4e82-9991-3c38230d4fef","name":"Embeddings OpenAI1","type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","position":[300,-220],"typeVersion":1.2,"credentials":{"openAiApi":{"id":"SKDNgNmyz3uaizES","name":"OpenAi account"}}},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-700,-920],"id":"e7e11fe1-4b1e-4436-b039-8d87c49a4097","name":"When clicking ‚ÄòExecute workflow‚Äô"},{"parameters":{"modelName":"models/embedding-001"},"type":"@n8n/n8n-nodes-langchain.embeddingsGoogleGemini","typeVersion":1,"position":[480,-300],"id":"50719e4b-8705-40d0-9452-062cbfaf112f","name":"Embeddings Google Gemini","credentials":{"googlePalmApi":{"id":"1n1ZCgSpI165zI9c","name":"Google Gemini(PaLM) Api account 3"}}},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[600,-880],"id":"bde8f54b-6a81-4b98-8954-c35538e4c473","name":"When chat message received","webhookId":"4727e538-e870-4c8b-ae40-0af63a55a935"}],"connections":{"HTTP Request":{"main":[[{"node":"HTTP Request1","type":"main","index":0}]]},"Edit Fields":{"main":[[{"node":"HTTP Request","type":"main","index":0}]]},"Basic LLM Chain":{"main":[[{"node":"Postgres PGVector Store","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Basic LLM Chain","type":"ai_languageModel","index":0}]]},"Edit Fields1":{"main":[[{"node":"Basic LLM Chain","type":"main","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Postgres PGVector Store","type":"ai_document","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Answer questions with a vector store":{"ai_tool":[[{"node":"AI Agent","type":"ai_tool","index":0}]]},"Postgres PGVector Store1":{"ai_vectorStore":[[{"node":"Answer questions with a vector store","type":"ai_vectorStore","index":0}]]},"OpenAI Chat Model2":{"ai_languageModel":[[{"node":"Answer questions with a vector store","type":"ai_languageModel","index":0}]]},"Cheap Model":{"ai_languageModel":[[{"node":"Answer questions with a vector store1","type":"ai_languageModel","index":0}]]},"Expensive model":{"ai_languageModel":[[{"node":"AI Agent1","type":"ai_languageModel","index":0}]]},"Query Data Tool":{"ai_vectorStore":[[{"node":"Answer questions with a vector store1","type":"ai_vectorStore","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Insert Data to Store","type":"ai_embedding","index":0},{"node":"Query Data Tool","type":"ai_embedding","index":0}]]},"Upload your file here":{"main":[[{"node":"Insert Data to Store","type":"main","index":0}]]},"Default Data Loader1":{"ai_document":[[{"node":"Insert Data to Store","type":"ai_document","index":0}]]},"Answer questions with a vector store1":{"ai_tool":[[{"node":"AI Agent1","type":"ai_tool","index":0}]]},"Embeddings OpenAI1":{"ai_embedding":[[]]},"When clicking ‚ÄòExecute workflow‚Äô":{"main":[[{"node":"Edit Fields1","type":"main","index":0}]]},"Embeddings Google Gemini":{"ai_embedding":[[{"node":"Postgres PGVector Store","type":"ai_embedding","index":0},{"node":"Postgres PGVector Store1","type":"ai_embedding","index":0}]]},"When chat message received":{"main":[[{"node":"AI Agent","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"b09ca811-ada1-422b-9981-7f54535385a0","triggerCount":0,"shared":[{"createdAt":"2025-06-19T04:56:34.029Z","updatedAt":"2025-06-19T04:56:34.029Z","role":"workflow:owner","workflowId":"5i1BvdVUeOdexImJ","projectId":"YGqg9zdxGQSC73yC"}],"tags":[]}